<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuxcedoReels</title>
    <link rel="icon" type="image/png" href="favicon.png" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(to bottom, #8B4513, #A0522D);
            color: #FFF8DC;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 3fr 1fr;
            gap: 20px;
        }

        header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: #6D4C41;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: #D7CCC8;
        }

        .logo span {
            color: #FFCC80;
        }

        .search-bar {
            display: flex;
            background: #5D4037;
            border-radius: 24px;
            padding: 8px 15px;
            width: 300px;
        }

        .search-bar input {
            background: transparent;
            border: none;
            color: #D7CCC8;
            width: 100%;
            outline: none;
            font-size: 16px;
        }

        .search-bar i {
            color: #D7CCC8;
            margin-right: 10px;
        }

        .user-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #FFCC80;
        }

        .sidebar {
            background-color: #6D4C41;
            border-radius: 12px;
            padding: 20px;
            height: fit-content;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .sidebar-menu {
            list-style: none;
            margin-top: 20px;
        }

        .sidebar-menu li {
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .sidebar-menu li:hover {
            background: #5D4037;
        }

        .sidebar-menu li.active {
            background: #5D4037;
            border-left: 4px solid #FFCC80;
        }

        .sidebar-menu i {
            margin-right: 10px;
            width: 24px;
            text-align: center;
        }

        .main-content {
            background-color: #7E5C4D;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .section-title {
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #FFCC80;
            color: #FFCC80;
        }

        .reels-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .reel-card {
            background: #6D4C41;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .reel-card:hover {
            transform: translateY(-5px);
        }

        .reel-media {
            height: 300px;
            position: relative;
            overflow: hidden;
        }

        .reel-media img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .reel-card:hover .reel-media img {
            transform: scale(1.05);
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.6);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .reel-card:hover .play-button {
            opacity: 1;
        }

        .reel-info {
            padding: 15px;
        }

        .reel-user {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .reel-user img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
            border: 2px solid #FFCC80;
        }

        .reel-stats {
            display: flex;
            justify-content: space-between;
            color: #D7CCC8;
            font-size: 14px;
        }

        .reel-stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .right-sidebar {
            background-color: #6D4C41;
            border-radius: 12px;
            padding: 20px;
            height: fit-content;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .profile-section {
            text-align: center;
            padding: 20px 0;
        }

        .profile-img-container {
            position: relative;
            width: fit-content;
            margin: 0 auto 15px;
        }

        .profile-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #FFCC80;
            cursor: pointer;
        }

        .upload-icon {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: #5D4037;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #FFCC80;
            cursor: pointer;
        }

        .profile-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .profile-username {
            color: #D7CCC8;
            margin-bottom: 15px;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: #FFCC80;
        }

        .stat-label {
            font-size: 12px;
            color: #D7CCC8;
        }

        .trending-section {
            margin-top: 30px;
        }

        .trending-list {
            list-style: none;
            margin-top: 15px;
        }

        .trending-list li {
            padding: 10px 0;
            border-bottom: 1px solid #5D4037;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .trending-list li:last-child {
            border-bottom: none;
        }

        .trending-number {
            font-weight: 700;
            color: #FFCC80;
            font-size: 18px;
        }

        .add-reel-button {
            display: block;
            width: 100%;
            padding: 12px;
            background: #FFCC80;
            color: #5D4037;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 20px;
        }

        .add-reel-button:hover {
            background: #FFB74D;
        }

        @media (max-width: 900px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar, .right-sidebar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Suxcedo<span>Reels</span></div>
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search reels...">
            </div>
            <div class="user-actions">
                <i class="fas fa-bell"></i>
                <i class="fas fa-envelope"></i>
                



            </div>
        </header>

        <aside class="sidebar">
            <h3>Menu</h3>
            <ul class="sidebar-menu">
                <li class="active"><i class="fas fa-home"></i> Home Feed</li>
                <li><i class="fas fa-fire"></i> Trending</li>
                <li><i class="fas fa-users"></i> Friends</li>
                <li><i class="fas fa-bookmark"></i> Saved Reels</li>
                <li><i class="fas fa-history"></i> History</li>
                <li><i class="fas fa-cog"></i> Settings</li>
            </ul>
        </aside>

        <main class="main-content">
            <h2 class="section-title">Public Reels Feed</h2>
            <div class="reels-container">
                <!-- Reel 1 -->
                <div class="reel-card">
                    <div class="reel-media">
                        <img src="https://res.cloudinary.com/demo/image/upload/w_500,h_500,c_fill/q_auto/beach.jpg" alt="Reel">
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="reel-info">
                        <div class="reel-user">
                            <img src="https://res.cloudinary.com/demo/image/upload/w_100,h_100,c_fill,r_max/avatar2.jpg" alt="User">
                            <span>Travel_Adventures</span>
                        </div>
                        <p>Beautiful sunset at the beach! üåÖ #sunset #beach</p>
                        <div class="reel-stats">
                            <div class="reel-stat">
                                <i class="fas fa-heart"></i> 2.4K
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-comment"></i> 142
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-share"></i> 56
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reel 2 -->
                <div class="reel-card">
                    <div class="reel-media">
                        <img src="https://res.cloudinary.com/demo/image/upload/w_500,h_500,c_fill/q_auto/dog.jpg" alt="Reel">
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="reel-info">
                        <div class="reel-user">
                            <img src="https://res.cloudinary.com/demo/image/upload/w_100,h_100,c_fill,r_max/avatar3.jpg" alt="User">
                            <span>PetLover99</span>
                        </div>
                        <p>My new puppy is so cute! üê∂ #puppy #dog</p>
                        <div class="reel-stats">
                            <div class="reel-stat">
                                <i class="fas fa-heart"></i> 3.8K
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-comment"></i> 321
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-share"></i> 128
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reel 3 -->
                <div class="reel-card">
                    <div class="reel-media">
                        <img src="https://res.cloudinary.com/demo/image/upload/w_500,h_500,c_fill/q_auto/hiking.jpg" alt="Reel">
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="reel-info">
                        <div class="reel-user">
                            <img src="https://res.cloudinary.com/demo/image/upload/w_100,h_100,c_fill,r_max/avatar4.jpg" alt="User">
                            <span>MountainExplorer</span>
                        </div>
                        <p>Morning hike with amazing views! üèûÔ∏è #hiking #nature</p>
                        <div class="reel-stats">
                            <div class="reel-stat">
                                <i class="fas fa-heart"></i> 5.1K
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-comment"></i> 287
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-share"></i> 94
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reel 4 -->
                <div class="reel-card">
                    <div class="reel-media">
                        <img src="https://res.cloudinary.com/demo/image/upload/w_500,h_500,c_fill/q_auto/cooking.jpg" alt="Reel">
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="reel-info">
                        <div class="reel-user">
                            <img src="https://res.cloudinary.com/demo/image/upload/w_100,h_100,c_fill,r_max/avatar5.jpg" alt="User">
                            <span>ChefLife</span>
                        </div>
                        <p>New recipe experiment! üç≥ #cooking #foodie</p>
                        <div class="reel-stats">
                            <div class="reel-stat">
                                <i class="fas fa-heart"></i> 4.2K
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-comment"></i> 189
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-share"></i> 73
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reel 5 -->
                <div class="reel-card">
                    <div class="reel-media">
                        <img src="https://res.cloudinary.com/demo/image/upload/w_500,h_500,c_fill/q_auto/city.jpg" alt="Reel">
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="reel-info">
                        <div class="reel-user">
                            <img src="https://res.cloudinary.com/demo/image/upload/w_100,h_100,c_fill,r_max/avatar6.jpg" alt="User">
                            <span>UrbanPhotographer</span>
                        </div>
                        <p>City lights never looked better! üåÉ #urban #nightphotography</p>
                        <div class="reel-stats">
                            <div class="reel-stat">
                                <i class="fas fa-heart"></i> 3.5K
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-comment"></i> 204
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-share"></i> 62
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reel 6 -->
                <div class="reel-card">
                    <div class="reel-media">
                        <img src="https://res.cloudinary.com/demo/image/upload/w_500,h_500,c_fill/q_auto/art.jpg" alt="Reel">
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="reel-info">
                        <div class="reel-user">
                            <img src="https://res.cloudinary.com/demo/image/upload/w_100,h_100,c_fill,r_max/avatar7.jpg" alt="User">
                            <span>ArtStudio</span>
                        </div>
                        <p>New painting almost finished! üé® #art #painting</p>
                        <div class="reel-stats">
                            <div class="reel-stat">
                                <i class="fas fa-heart"></i> 2.9K
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-comment"></i> 176
                            </div>
                            <div class="reel-stat">
                                <i class="fas fa-share"></i> 48
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <aside class="right-sidebar">
    <div class="profile-section">
        <div class="profile-img-container">
            <img id="sidebarProfileImage" 
                 src="https://res.cloudinary.com/demo/image/upload/w_150,h_150,c_fill,r_max/avatar1.jpg" 
                 alt="Profile" 
                 class="profile-img">
        </div>
        <h3 class="profile-name" id="sidebarProfileName">Your name</h3>
        <p class="profile-username" id="sidebarProfileUsername">@user</p>
        <p id="sidebarProfileBio">Travel enthusiast & photography lover ‚úàÔ∏èüì∏</p>
    </div>

    <div class="trending-section">
        <h3>Trending Topics</h3>
        <ul class="trending-list">
            <li>
                <span class="trending-number">1</span>
                <span>#SummerVibes</span>
            </li>
            <li>
                <span class="trending-number">2</span>
                <span>#TravelDiaries</span>
            </li>
            <li>
                <span class="trending-number">3</span>
                <span>#Foodie</span>
            </li>
            <li>
                <span class="trending-number">4</span>
                <span>#SunsetLovers</span>
            </li>
            <li>
                <span class="trending-number">5</span>
                <span>#PetLife</span>
            </li>
        </ul>
    </div>
</aside>

    </div>

    <script src="https://unpkg.com/@supabase/supabase-js"></script>
    <script>
        // Initialize Supabase
        const supabaseUrl = "https://wqknmsiqbjyzoscbbgdt.supabase.co";
        const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indxa25tc2lxYmp5em9zY2JiZ2R0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2NTYwMTEsImV4cCI6MjA2ODIzMjAxMX0.KoDQ-JR8b2U7UNr_ZdYRtJmtqdFRKnjLROzbEOLM2Tc";
        const supabase = supabase.createClient(supabaseUrl, supabaseKey);

        // Cloudinary configuration
        const CLOUDINARY_URL = "https://api.cloudinary.com/v1_1/dzorvvwp8/image/upload";
        const UPLOAD_PRESET = "working_reels";

        let currentUserId = null;

        // Load user profile data
        async function loadUserProfileSection() {
    const { data: { user }, error: userError } = await supabase.auth.getUser();
    if (userError || !user) {
        console.log("No logged-in user");
        return;
    }

    currentUserId = user.id;

    const { data: profile, error: profileError } = await supabase
        .from('profiles')
        .select('username, avatar_url, bio')
        .eq('id', user.id)
        .single();

    if (profileError) {
        console.log("Error loading profile:", profileError);
        return;
    }

    // Update main profile section
    if (profile.avatar_url) {
        document.getElementById('profileImage').src = profile.avatar_url;
        document.getElementById('profilePic').src = profile.avatar_url;
    }

    if (profile.username) {
        document.getElementById('profileName').textContent = profile.username;
        document.getElementById('profileUsername').textContent = '@' + profile.username;
        document.getElementById('username').textContent = profile.username;
    }

    if (profile.bio) {
        document.getElementById('profileBio').textContent = profile.bio;
    }

    // ‚úÖ Update sidebar profile section
    if (profile.avatar_url) {
        document.getElementById('sidebarProfileImage').src = profile.avatar_url;
    }
    if (profile.username) {
        document.getElementById('sidebarProfileName').textContent = profile.username;
        document.getElementById('sidebarProfileUsername').textContent = '@' + profile.username;
    }
    if (profile.bio) {
        document.getElementById('sidebarProfileBio').textContent = profile.bio;
    } else {
        document.getElementById('sidebarProfileBio').style.display = "none";
    }
}

    </script>
</body>
</html>
